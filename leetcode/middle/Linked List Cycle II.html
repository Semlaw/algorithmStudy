<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>Linked List Cycle II</title>
	</head>

	<body>
		<p>Given a linked list, return the node where the cycle begins. If there is no cycle, return null.</p>
		<script type="text/javascript">
			/**
			 * Definition for singly-linked list.
			 * function ListNode(val) {
			 *     this.val = val;
			 *     this.next = null;
			 * }
			 */

			/**
			 * @param {ListNode} head
			 * @return {ListNode}
			 */
			var detectCycle = function(head) {

			};

			function solution(head) {
				let slow = head,
					fast = head;
				while(true) {
					if(fast === null || fast.next === null) {
						return null;
					}
					slow = slow.next;
					fast = fast.next.next;
					if(fast === slow) {
						break;
					}
				}
				slow = head;
				while(slow !== fast) {
					slow = slow.next;
					fast = fast.next;
				}
				return slow;
			}

			var solution2 = (head) => {
				if(head === null || head.next === null || head.next.next === null) {
					return null;
				}

				let slowPointer = head;
				let fastPointer = head;

				while(true) {
					slowPointer = slowPointer.next;
					fastPointer = fastPointer.next.next;

					if(fastPointer === null || fastPointer.next == null) {
						return null;
					}

					if(slowPointer === fastPointer) {
						break;
					}
				}

				slowPointer = head;

				while(slowPointer !== fastPointer) {
					slowPointer = slowPointer.next;
					fastPointer = fastPointer.next;
				}

				return slowPointer;
			};
		</script>
	</body>

</html>